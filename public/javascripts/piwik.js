CloudFlare.define("piwik_open_source_web_analytics",["piwik_open_source_web_analytics/config"],function(){"use strict";function t(t){if(this.log=console||{error:function(){},info:function(){},log:function(){}},this.config={url:!1,prependDomain:!1,setDomainCookie:!1,ssl:!1},t)for(var e in t)t.hasOwnProperty(e)&&(this.config[e]=t[e]);this.load()}String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!1,writable:!1,value:function(t,e){return e=e||0,this.lastIndexOf(t,e)===e}}),String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(t,e){var i=this.toString();(void 0===e||e>i.length)&&(e=i.length),e-=t.length;var n=i.indexOf(t,e);return-1!==n&&n===e}}),t.prototype.load=function(){var t=this.getUrl();if(t!==!1)try{var e=e||[];e.push(["trackPageView"]),e.push(["enableLinkTracking"]),e.push(["setDoNotTrack",!0]),this.config.prependDomain&&e.push(["setDocumentTitle",document.domain+"/"+document.title]),this.config.setDomainCookie&&e.push(["setDomainCookie"],"*."+document.domain),e.push(["setTrackerUrl",t+"piwik.php"]),e.push(["setSiteId",this.config.id]);var i=document.createElement("script"),n=document.getElementsByTagName("script")[0];i.type="text/javascript",i.async=!0,i.defer=!0,i.src=t+"piwik.js",n.parentNode.insertBefore(i,n),window._paq=e}catch(o){this.log.error("[CF-PIWIK] ",o.message)}},t.prototype.getUrl=function(){if(!this.config.url)return this.log.error("[CF-PIWIK] No server url defined. Can't continue"),!1;var t=this.config.url.toString(),e=t.startsWith("http://")||t.startsWith("https://")||t.startsWith("//"),i=this.config.ssl||!1,n=t.endsWith("/");return e||(t="http"+(i?"s":"")+"://"+t),n||(t+="/"),t}});